<!DOCTYPE html>
<html lang="ur">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tower Climb Challenge</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            overflow: hidden;
            height: 100vh;
            touch-action: manipulation;
        }

        .game-container {
            position: relative;
            width: 100%;
            height: 100vh;
            max-width: 500px;
            margin: 0 auto;
            background: #1a1a2e;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        /* ÛÛŒÚˆØ± Ø³Ù¹Ø§Ø¦Ù„Ø² */
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
        }

        .score-container {
            display: flex;
            gap: 20px;
        }

        .score-box {
            background: rgba(255,255,255,0.1);
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
        }

        /* Ú¯ÛŒÙ… Ø§ÛŒØ±ÛŒØ§ */
        #gameCanvas {
            background: linear-gradient(180deg, #16213e, #0f3460);
            display: block;
            margin: 0 auto;
        }

        /* Ú©Ù†Ù¹Ø±ÙˆÙ„Ø² */
        .controls {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 30px;
        }

        .control-btn {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .control-btn:active {
            transform: scale(0.9);
            background: rgba(255,255,255,0.3);
        }

        /* Ù¾Ø§ÙˆØ± Ø§Ù¾Ø³ */
        .powerups {
            position: absolute;
            top: 80px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .powerup-btn {
            background: linear-gradient(45deg, #FF6B6B, #FF8E53);
            border: none;
            border-radius: 15px;
            padding: 10px 15px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(255,107,107,0.3);
            transition: all 0.3s;
        }

        .powerup-btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 8px rgba(255,107,107,0.3);
        }

        /* Ù…ÛŒÙ†ÛŒÙˆ Ø³Ú©Ø±ÛŒÙ†Ø² */
        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(10px);
            z-index: 100;
        }

        .screen h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
        }

        .screen p {
            font-size: 1.2em;
            margin-bottom: 30px;
            text-align: center;
            max-width: 80%;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            border-radius: 25px;
            padding: 15px 30px;
            color: white;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
            box-shadow: 0 10px 20px rgba(102,126,234,0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(102,126,234,0.4);
        }

        .hidden {
            display: none;
        }

        /* Ø§ÛŒÚˆ Ú©Ù†Ù¹ÛŒÙ†Ø± */
        #adContainer {
            position: absolute;
            bottom: 100px;
            left: 0;
            right: 0;
            text-align: center;
        }

        .ad-btn {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            border: none;
            border-radius: 20px;
            padding: 12px 25px;
            color: #333;
            font-weight: bold;
            cursor: pointer;
            margin: 5px;
            box-shadow: 0 5px 15px rgba(255,215,0,0.3);
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- Ú¯ÛŒÙ… ÛÛŒÚˆØ± -->
        <div class="game-header">
            <div class="score-container">
                <div class="score-box">ğŸª™ <span id="coins">0</span></div>
                <div class="score-box">ğŸ† <span id="highScore">0</span></div>
                <div class="score-box">âš¡ <span id="level">1</span></div>
            </div>
        </div>

        <!-- Ú¯ÛŒÙ… Ú©ÛŒÙ†ÙˆØ³ -->
        <canvas id="gameCanvas" width="400" height="600"></canvas>

        <!-- Ù¾Ø§ÙˆØ± Ø§Ù¾Ø³ -->
        <div class="powerups">
            <button class="powerup-btn" onclick="buyShield()">ğŸ›¡ï¸ Ø´ÛŒÙ„Úˆ (50)</button>
            <button class="powerup-btn" onclick="buyMagnet()">ğŸ§² Ù…ÛŒÚ¯Ù†Ù¹ (30)</button>
            <button class="powerup-btn" onclick="buyDoubleCoins()">2Ã— ğŸª™ (100)</button>
        </div>

        <!-- Ú©Ù†Ù¹Ø±ÙˆÙ„Ø² -->
        <div class="controls">
            <button class="control-btn" onclick="moveLeft()">â†</button>
            <button class="control-btn" onclick="jump()">â†‘</button>
            <button class="control-btn" onclick="moveRight()">â†’</button>
        </div>

        <!-- Ø§Ø³Ù¹Ø§Ø±Ù¹ Ø§Ø³Ú©Ø±ÛŒÙ† -->
        <div id="startScreen" class="screen">
            <h1>ğŸ° Tower Climb Challenge</h1>
            <p>Ù¹Ø§ÙˆØ± Ú†Ú‘Ú¾ÛŒÚºØŒ Ø±Ú©Ø§ÙˆÙ¹ÛŒÚº Ù¾Ø§Ø± Ú©Ø±ÛŒÚºØŒ Ø§ÙˆØ± Ø³Ú©Û’ Ø¬Ù…Ø¹ Ú©Ø±ÛŒÚº!</p>
            <button class="btn" onclick="startGame()">Ú©Ú¾ÛŒÙ„ Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº</button>
            <button class="btn ad-btn" onclick="watchAdForCoins()">ğŸª™ 500 Ø³Ú©Û’ Ø­Ø§ØµÙ„ Ú©Ø±ÛŒÚº</button>
        </div>

        <!-- Ú¯ÛŒÙ… Ø§ÙˆÙˆØ± Ø§Ø³Ú©Ø±ÛŒÙ† -->
        <div id="gameOverScreen" class="screen hidden">
            <h1>Ú¯ÛŒÙ… Ø®ØªÙ…!</h1>
            <p>Ø¢Ù¾ Ú©Ø§ Ø§Ø³Ú©ÙˆØ±: <span id="finalScore">0</span></p>
            <p>Ø²ÛŒØ§Ø¯Û Ø³Û’ Ø²ÛŒØ§Ø¯Û Ø§Ø³Ú©ÙˆØ±: <span id="finalHighScore">0</span></p>
            <button class="btn" onclick="restartGame()">Ø¯ÙˆØ¨Ø§Ø±Û Ú©Ú¾ÛŒÙ„ÛŒÚº</button>
            <button class="btn ad-btn" onclick="watchAdToContinue()">Ø§Ø´ØªÛØ§Ø± Ø¯ÛŒÚ©Ú¾ Ú©Ø± Ø¬Ø§Ø±ÛŒ Ø±Ú©Ú¾ÛŒÚº</button>
        </div>

        <!-- Ø§ÛŒÚˆ Ú©Ù†Ù¹ÛŒÙ†Ø± -->
        <div id="adContainer"></div>
    </div>

    <script>
        // === Ú¯ÛŒÙ… ÙˆÛŒØ±ÛŒ Ø§ÛŒØ¨Ù„Ø² ===
        let gameActive = false;
        let coins = 0;
        let highScore = 0;
        let currentLevel = 1;
        let player = { x: 200, y: 550, width: 40, height: 60, velocityY: 0, isJumping: false };
        let platforms = [];
        let obstacles = [];
        let coinItems = [];
        let powerUps = [];

        // === Ú©ÛŒÙ†ÙˆØ³ Ø³ÛŒÙ¹ Ø§Ù¾ ===
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        // === Ú¯ÛŒÙ… Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚº ===
        function startGame() {
            document.getElementById('startScreen').classList.add('hidden');
            gameActive = true;
            coins = 0;
            currentLevel = 1;
            initializeGame();
            gameLoop();
            
            // Ú¯ÛŒÙ… Ø´Ø±ÙˆØ¹ ÛÙˆÙ†Û’ Ù¾Ø± In-App Interstitial
            loadInAppInterstitial();
        }

        function initializeGame() {
            player = { x: 200, y: 550, width: 40, height: 60, velocityY: 0, isJumping: false };
            platforms = [];
            obstacles = [];
            coinItems = [];
            powerUps = [];

            // Ù¾Ù„ÛŒÙ¹ ÙØ§Ø±Ù…Ø² Ø¨Ù†Ø§Ø¦ÛŒÚº
            for(let i = 0; i < 10; i++) {
                platforms.push({
                    x: Math.random() * 350,
                    y: 500 - (i * 100),
                    width: 100,
                    height: 20
                });
            }

            // Ø³Ú©Û’ Ø¨Ù†Ø§Ø¦ÛŒÚº
            for(let i = 0; i < 15; i++) {
                coinItems.push({
                    x: Math.random() * 360,
                    y: Math.random() * 500,
                    width: 20,
                    height: 20,
                    collected: false
                });
            }

            updateUI();
        }

        // === Ú¯ÛŒÙ… Ù„ÙˆÙ¾ ===
        function gameLoop() {
            if(!gameActive) return;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Ú©Ø´Ø´ Ø«Ù‚Ù„ Ù„Ø§Ú¯Ùˆ Ú©Ø±ÛŒÚº
            player.velocityY += 0.5;
            player.y += player.velocityY;

            // Ù¾Ù„ÛŒÙ¹ ÙØ§Ø±Ù…Ø² Ø³Û’ ØªØµØ§Ø¯Ù…
            platforms.forEach(platform => {
                ctx.fillStyle = '#4ECDC4';
                ctx.fillRect(platform.x, platform.y, platform.width, platform.height);

                if(player.y + player.height >= platform.y && 
                   player.y + player.height <= platform.y + 10 &&
                   player.x + player.width > platform.x && 
                   player.x < platform.x + platform.width &&
                   player.velocityY > 0) {
                    player.y = platform.y - player.height;
                    player.velocityY = 0;
                    player.isJumping = false;
                }
            });

            // Ø³Ú©Û’ ÚˆØ±Ø§Ø¦ÛŒÚº Ø§ÙˆØ± Ø¬Ù…Ø¹ Ú©Ø±ÛŒÚº
            coinItems.forEach(coin => {
                if(!coin.collected) {
                    ctx.fillStyle = '#FFD700';
                    ctx.beginPath();
                    ctx.arc(coin.x + 10, coin.y + 10, 10, 0, Math.PI * 2);
                    ctx.fill();

                    // ØªØµØ§Ø¯Ù… Ú©Ø§ Ù¾ØªÛ Ù„Ú¯Ø§Ø¦ÛŒÚº
                    if(player.x < coin.x + 20 && player.x + player.width > coin.x &&
                       player.y < coin.y + 20 && player.y + player.height > coin.y) {
                        coin.collected = true;
                        coins += 1;
                        updateUI();
                    }
                }
            });

            // Ú©Ú¾Ù„Ø§Ú‘ÛŒ ÚˆØ±Ø§Ø¦ÛŒÚº
            ctx.fillStyle = '#FF6B6B';
            ctx.fillRect(player.x, player.y, player.width, player.height);

            // Ø§Ú¯Ø± Ú©Ú¾Ù„Ø§Ú‘ÛŒ Ù†ÛŒÚ†Û’ Ú¯Ø±Ø§ ØªÙˆ Ú¯ÛŒÙ… Ø®ØªÙ…
            if(player.y > canvas.height) {
                endGame();
                return;
            }

            // Ø§Ú¯Ù„Ø§ ÙØ±ÛŒÙ…
            requestAnimationFrame(gameLoop);
        }

        // === Ú©Ù†Ù¹Ø±ÙˆÙ„Ø² ===
        function moveLeft() {
            if(gameActive && player.x > 0) {
                player.x -= 20;
            }
        }

        function moveRight() {
            if(gameActive && player.x < canvas.width - player.width) {
                player.x += 20;
            }
        }

        function jump() {
            if(gameActive && !player.isJumping) {
                player.velocityY = -15;
                player.isJumping = true;
            }
        }

        // === UI Ø§Ù¾ ÚˆÛŒÙ¹ ===
        function updateUI() {
            document.getElementById('coins').textContent = coins;
            document.getElementById('highScore').textContent = highScore;
            document.getElementById('level').textContent = currentLevel;
        }

        // === Ú¯ÛŒÙ… Ø®ØªÙ… ===
        function endGame() {
            gameActive = false;
            if(coins > highScore) {
                highScore = coins;
            }
            document.getElementById('finalScore').textContent = coins;
            document.getElementById('finalHighScore').textContent = highScore;
            document.getElementById('gameOverScreen').classList.remove('hidden');
            
            // Ú¯ÛŒÙ… Ø®ØªÙ… ÛÙˆÙ†Û’ Ù¾Ø± In-App Interstitial
            loadInAppInterstitial();
        }

        // === Ú¯ÛŒÙ… Ø¯ÙˆØ¨Ø§Ø±Û Ø´Ø±ÙˆØ¹ ===
        function restartGame() {
            document.getElementById('gameOverScreen').classList.add('hidden');
            startGame();
        }

        // === Ù¾Ø§ÙˆØ± Ø§Ù¾Ø³ ===
        function buyShield() {
            if(coins >= 50) {
                coins -= 50;
                updateUI();
                alert('ğŸ›¡ï¸ Ø¢Ù¾ Ú©Ùˆ 30 Ø³ÛŒÚ©Ù†Úˆ Ú©Û’ Ù„ÛŒÛ’ Ø´ÛŒÙ„Úˆ Ù…Ù„ Ú¯Ø¦ÛŒ!');
            } else {
                alert('âŒ Ù†Ø§Ú©Ø§ÙÛŒ Ø³Ú©Û’!');
            }
        }

        function buyMagnet() {
            if(coins >= 30) {
                coins -= 30;
                updateUI();
                alert('ğŸ§² Ø¢Ù¾ Ú©Ùˆ 20 Ø³ÛŒÚ©Ù†Úˆ Ú©Û’ Ù„ÛŒÛ’ Ù…ÛŒÚ¯Ù†Ù¹ Ù…Ù„ Ú¯ÛŒØ§!');
            } else {
                alert('âŒ Ù†Ø§Ú©Ø§ÙÛŒ Ø³Ú©Û’!');
            }
        }

        function buyDoubleCoins() {
            if(coins >= 100) {
                coins -= 100;
                updateUI();
                alert('2Ã— ğŸª™ Ø§Ú¯Ù„Û’ 2 Ù…Ù†Ù¹ Ú©Û’ Ù„ÛŒÛ’ ÚˆØ¨Ù„ Ø³Ú©Û’!');
            } else {
                alert('âŒ Ù†Ø§Ú©Ø§ÙÛŒ Ø³Ú©Û’!');
            }
        }

        // === Ø§Ø´ØªÛØ§Ø±Ø§Øª Ú©Û’ Ø§ÙØ¹Ø§Ù„ ===

        // 1. Rewarded Popup - Ø³Ú©Û’ Ú©Û’ Ù„ÛŒÛ’
        function watchAdForCoins() {
            if(typeof monetag !== 'undefined') {
                monetag.showAd('rewarded-popup', {
                    onReward: function() {
                        coins += 500;
                        updateUI();
                        alert('ğŸ‰ Ù…Ø¨Ø§Ø±Ú© ÛÙˆ! Ø¢Ù¾ Ú©Ùˆ 500 Ø³Ú©Û’ Ù…Ù„ Ú¯Ø¦Û’!');
                    }
                });
            } else {
                // ÚˆÛŒÙ…Ùˆ Ú©Û’ Ù„ÛŒÛ’
                coins += 500;
                updateUI();
                alert('[DEMO] ğŸ‰ Ù…Ø¨Ø§Ø±Ú© ÛÙˆ! Ø¢Ù¾ Ú©Ùˆ 500 Ø³Ú©Û’ Ù…Ù„ Ú¯Ø¦Û’!');
            }
        }

        // 2. Rewarded Interstitial - Ú¯ÛŒÙ… Ø¬Ø§Ø±ÛŒ Ø±Ú©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’
        function watchAdToContinue() {
            if(typeof monetag !== 'undefined') {
                monetag.showAd('rewarded-interstitial', {
                    onReward: function() {
                        document.getElementById('gameOverScreen').classList.add('hidden');
                        gameActive = true;
                        player.y = 300;
                        player.velocityY = 0;
                        gameLoop();
                        alert('ğŸš€ Ú¯ÛŒÙ… Ø¬Ø§Ø±ÛŒ ÛÛ’! Ø¢Ù¾ Ú©Ùˆ Ø¯ÙˆØ³Ø±Ø§ Ù…ÙˆÙ‚Ø¹ Ù…Ù„Ø§!');
                    }
                });
            } else {
                // ÚˆÛŒÙ…Ùˆ Ú©Û’ Ù„ÛŒÛ’
                document.getElementById('gameOverScreen').classList.add('hidden');
                gameActive = true;
                player.y = 300;
                player.velocityY = 0;
                gameLoop();
                alert('[DEMO] ğŸš€ Ú¯ÛŒÙ… Ø¬Ø§Ø±ÛŒ ÛÛ’! Ø¢Ù¾ Ú©Ùˆ Ø¯ÙˆØ³Ø±Ø§ Ù…ÙˆÙ‚Ø¹ Ù…Ù„Ø§!');
            }
        }

        // 3. In-App Interstitial - Ù…Ø®ØªÙ„Ù Ù…ÙˆØ§Ù‚Ø¹ Ù¾Ø±
        function loadInAppInterstitial() {
            if(typeof monetag !== 'undefined') {
                monetag.showAd('interstitial');
            } else {
                console.log('[DEMO] In-App Interstitial Ú†Ù„Ø§ÛŒØ§ Ø¬Ø§ØªØ§');
            }
        }

        // Ú©ÛŒ Ø¨ÙˆØ±Úˆ Ú©Ù†Ù¹Ø±ÙˆÙ„Ø²
        document.addEventListener('keydown', (e) => {
            if(e.key === 'ArrowLeft') moveLeft();
            if(e.key === 'ArrowRight') moveRight();
            if(e.key === 'ArrowUp' || e.key === ' ') jump();
        });

        // ÛØ§Ø¦ÛŒ Ø§Ø³Ú©ÙˆØ± Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº
        if(localStorage.getItem('highScore')) {
            highScore = parseInt(localStorage.getItem('highScore'));
            updateUI();
        }
    </script>

    <!-- Monetag SDK (Ø§Ù¾Ù†Ø§ Placement ID Ù„Ú¯Ø§Ø¦ÛŒÚº) -->
    <!-- <script src="https://sdk.monetag.com/?id=YOUR_PLACEMENT_ID"></script> -->
</body>
</html>
